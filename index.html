<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cotador - Oeste Sa√∫de Assis</title>
    
    <!-- CDNs -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- CSS Local -->
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/onboarding-styles.css">

    <!-- Debug: CSS carregado -->
    <script>
        console.log('%c‚úÖ [DEBUG] CSS carregado', 'color: #10b981; font-weight: bold;');
    </script>
</head>

<body>

    <!-- ============================================================================
         LOADING OVERLAY
         ============================================================================ -->
    <div id="loadingOverlay" class="loading-overlay hidden">
        <div class="loading-spinner"></div>
        <p class="loading-text mt-4 text-lg font-bold" style="color: #003D58;">Carregando...</p>
    </div>

    <!-- ============================================================================
         TELA DE LOADING INICIAL
         ============================================================================ -->
    <div id="loadingScreenInicial" class="flex items-center justify-center min-h-screen p-4 bg-gradient-to-br from-oeste-turqueza to-oeste-azul">
        <div class="text-center">
            <div class="mb-6">
                <img src="https://i.imgur.com/l4tIG6t.png" alt="Oeste Sa√∫de" class="oeste-logo-login mx-auto mb-4">
            </div>
            
            <div class="mb-8">
                <div class="loading-spinner" style="border-color: rgba(255, 255, 255, 0.3); border-top-color: #003D58; width: 60px; height: 60px; margin: 0 auto;"></div>
            </div>

            <h1 class="text-3xl font-bold oeste-text-primary mb-2">Cotador Oeste Assis</h1>
            <p class="text-lg oeste-text-secondary mb-4">Autenticando sua sess√£o...</p>
            
            <div class="flex justify-center gap-2 mt-6">
                <div class="w-2 h-2 rounded-full animate-bounce" style="background-color: #00A8B0; animation-delay: 0s;"></div>
                <div class="w-2 h-2 rounded-full animate-bounce" style="background-color: #00A8B0; animation-delay: 0.2s;"></div>
                <div class="w-2 h-2 rounded-full animate-bounce" style="background-color: #00A8B0; animation-delay: 0.4s;"></div>
            </div>
        </div>
    </div>

    <!-- ============================================================================
         TELA DE LOGIN
         ============================================================================ -->
    <div id="loginScreen" class="flex items-center justify-center min-h-screen p-4">
        <div class="bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md">
            <div class="text-center mb-6">
                <img src="https://i.imgur.com/l4tIG6t.png" alt="Oeste Sa√∫de" class="oeste-logo-login mx-auto mb-4">
                <h1 class="text-2xl font-bold oeste-text-primary mb-1">Cotador Oeste Assis</h1>
                <p class="text-sm oeste-text-muted">Sistema de Cota√ß√£o</p>
            </div>

            <div class="mb-5">
                <label class="block text-xs font-semibold oeste-text-primary mb-2">Email:</label>
                <input 
                    type="email" 
                    id="loginEmail" 
                    placeholder="seu.email@oestesaude.com.br"
                    class="w-full px-3 py-3 text-sm border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-oeste-turqueza focus:border-transparent font-semibold text-gray-700"
                    required
                >
            </div>

            <div class="mb-5">
                <label class="block text-xs font-semibold oeste-text-primary mb-2">Senha:</label>
                <input 
                    type="password" 
                    id="loginPassword" 
                    placeholder="Sua senha"
                    class="w-full px-3 py-3 text-sm border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-oeste-turqueza focus:border-transparent font-semibold text-gray-700"
                    required
                >
            </div>

            <button onclick="fazerLogin()" class="w-full oeste-btn-primary py-3 text-base">
                <i class="fas fa-sign-in-alt"></i> Acessar Sistema
            </button>
        </div>
    </div>

    <!-- ============================================================================
         MODAL DE ALTERA√á√ÉO DE SENHA
         ============================================================================ -->
    <div id="changePasswordModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50">
        <div class="bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md">
            <div class="text-center mb-6">
                <div class="text-5xl mb-4">üîê</div>
                <h1 class="text-2xl font-bold oeste-text-primary mb-2">Seguran√ßa da Conta</h1>
                <p class="text-sm oeste-text-muted">Percebemos que voc√™ n√£o trocou sua senha ainda</p>
            </div>

            <div class="bg-blue-50 border-2 border-blue-200 rounded-lg p-4 mb-6">
                <p class="text-sm text-blue-800 font-semibold">
                    <i class="fas fa-info-circle"></i> 
                    Gostaria de criar uma senha personalizada AGORA?
                </p>
            </div>

            <div id="formAlterarSenha" class="hidden mb-6">
                <div class="mb-4">
                    <label class="block text-xs font-semibold oeste-text-primary mb-2">Nova Senha:</label>
                    <input 
                        type="password" 
                        id="novaSenha" 
                        placeholder="Digite sua nova senha"
                        class="w-full px-3 py-3 text-sm border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-oeste-turqueza focus:border-transparent font-semibold text-gray-700"
                        required
                    >
                </div>

                <div class="mb-4">
                    <label class="block text-xs font-semibold oeste-text-primary mb-2">Confirmar Senha:</label>
                    <input 
                        type="password" 
                        id="confirmarSenha" 
                        placeholder="Confirme sua nova senha"
                        class="w-full px-3 py-3 text-sm border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-oeste-turqueza focus:border-transparent font-semibold text-gray-700"
                        required
                    >
                </div>

                <p class="text-xs text-gray-500 mb-4">
                    üí° M√≠nimo 6 caracteres
                </p>
            </div>

            <div class="flex gap-3">
                <button 
                    onclick="fecharModalAlterarSenha()" 
                    id="btnNaoTrocar"
                    class="flex-1 px-4 py-3 bg-gray-300 hover:bg-gray-400 text-gray-700 rounded-lg font-semibold text-base transition-all shadow-sm"
                >
                    <i class="fas fa-times"></i> Agora N√£o
                </button>

                <button 
                    onclick="toggleFormAlterarSenha()" 
                    id="btnTrocar"
                    class="flex-1 px-4 py-3 oeste-btn-primary rounded-lg font-semibold text-base transition-all shadow-md"
                >
                    <i class="fas fa-lock"></i> Trocar Agora
                </button>
            </div>

            <div id="botoesConfirmacao" class="hidden flex gap-3 mt-4">
                <button 
                    onclick="toggleFormAlterarSenha()" 
                    class="flex-1 px-4 py-3 bg-gray-300 hover:bg-gray-400 text-gray-700 rounded-lg font-semibold text-base transition-all shadow-sm"
                >
                    <i class="fas fa-arrow-left"></i> Voltar
                </button>

                <button 
                    onclick="alterarSenhaOpcional()" 
                    class="flex-1 px-4 py-3 oeste-btn-primary rounded-lg font-semibold text-base transition-all shadow-md"
                >
                    <i class="fas fa-check"></i> Confirmar
                </button>
            </div>
        </div>
    </div>

    <!-- ============================================================================
         MODAL DE ONBOARDING (BEM-VINDO)
         ============================================================================ -->
    <div id="onboardingModal" class="onboarding-overlay">
        <div class="onboarding-content">
            
            <!-- Bot√£o de fechar -->
            <button class="onboarding-close" onclick="fecharOnboarding()" aria-label="Fechar">
                <i class="fas fa-times"></i>
            </button>
            
            <!-- Header -->
            <div class="onboarding-header">
                <div class="onboarding-icon">üéâ</div>
                <h2 class="onboarding-title">Bem-vindo ao Cotador Oeste Sa√∫de Assis!</h2>
                <p class="onboarding-subtitle">Estamos felizes em ter voc√™ aqui. Veja como √© f√°cil usar o sistema!</p>
            </div>
            
            <!-- Body -->
            <div class="onboarding-body">
                
                <!-- Se√ß√£o do V√≠deo Tutorial -->
                <div class="onboarding-section">
                    <h3 class="section-title">
                        <i class="fas fa-play-circle"></i>
                        V√≠deo Tutorial
                    </h3>
                    <div class="video-container">
                        <iframe 
                            id="tutorialVideo"
                            src="https://www.youtube.com/embed/dQw4w9WgXcQ"
                            title="Tutorial do Cotador"
                            frameborder="0" 
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                            allowfullscreen>
                        </iframe>
                    </div>
                </div>
                
                <!-- Recursos e Links -->
                <div class="onboarding-resources">
                    
                    <!-- Card 1: Manual em PDF -->
                    <a href="#" target="_blank" class="resource-card" rel="noopener noreferrer">
                        <div class="resource-icon-box">
                            <i class="fas fa-file-pdf"></i>
                        </div>
                        <div class="resource-content">
                            <h4 class="resource-title">Manual de Uso</h4>
                            <p class="resource-description">Baixe o guia completo em PDF</p>
                        </div>
                        <div class="resource-arrow">
                            <i class="fas fa-arrow-right"></i>
                        </div>
                    </a>
                    
                    <!-- Card 2: WhatsApp Suporte -->
                    <a href="https://wa.me/5518999999999?text=Ol√°! Preciso de ajuda com o Cotador Oeste Assis." target="_blank" class="resource-card" rel="noopener noreferrer">
                        <div class="resource-icon-box whatsapp">
                            <i class="fab fa-whatsapp"></i>
                        </div>
                        <div class="resource-content">
                            <h4 class="resource-title">Suporte WhatsApp</h4>
                            <p class="resource-description">Tire suas d√∫vidas conosco</p>
                        </div>
                        <div class="resource-arrow">
                            <i class="fas fa-arrow-right"></i>
                        </div>
                    </a>
                    
                </div>
                
            </div>
            
            <!-- Footer -->
            <div class="onboarding-footer">
                <label class="onboarding-checkbox">
                    <input type="checkbox" id="naoMostrarNovamente">
                    <span class="checkbox-text">N√£o mostrar novamente</span>
                </label>
                <button class="btn-comecar" onclick="iniciarCotador()">
                    <span>Come√ßar Agora</span>
                    <i class="fas fa-arrow-right"></i>
                </button>
            </div>
            
        </div>
    </div>

    <!-- ============================================================================
         DASHBOARD PRINCIPAL
         ============================================================================ -->
    <div id="dashboard" class="hidden">

        <!-- Header -->
        <div class="oeste-header no-print sticky top-0 z-50">
            <div class="max-w-7xl mx-auto px-6 py-4 flex items-center justify-between">
                <div class="flex items-center gap-4">
                    <img src="https://i.imgur.com/l4tIG6t.png" alt="Oeste Sa√∫de" class="oeste-logo">
                    <div class="oeste-header-divider">
                        <h1 class="text-lg font-bold text-gray-800">Cotador Oeste Assis</h1>
                        <p class="text-xs text-gray-600">Sistema de Cota√ß√£o</p>
                    </div>
                </div>
                <div class="flex items-center gap-4">
                    <div class="text-right">
                        <p class="text-xs text-gray-600">Vendedor(a):</p>
                        <p class="text-sm font-bold oeste-text-primary" id="nomeVendedor">-</p>
                        <p class="text-xs text-gray-500" id="telefoneVendedor">-</p>
                    </div>
                    <button onclick="fazerLogout()" class="px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-semibold text-sm transition-all shadow-md flex items-center gap-2">
                        <i class="fas fa-sign-out-alt"></i> Sair
                    </button>
                </div>
            </div>
        </div>

        <div class="max-w-7xl mx-auto px-6 py-6">

            <!-- ============================================================================
                 STEPPER (substitui as abas antigas)
                 ============================================================================ -->
            <div class="stepper-container no-print">
                <div class="stepper">
                    
                    <!-- Step 1: Cliente -->
                    <div class="step active" data-step="1" id="step1">
                        <div class="step-circle">
                            <span class="step-number">1</span>
                            <i class="step-check">‚úì</i>
                        </div>
                        <span class="step-label">Cliente</span>
                    </div>
                    
                    <div class="step-line"></div>
                    
                    <!-- Step 2: Faixas -->
                    <div class="step" data-step="2" id="step2">
                        <div class="step-circle">
                            <span class="step-number">2</span>
                            <i class="step-check">‚úì</i>
                        </div>
                        <span class="step-label">Faixas Et√°rias</span>
                    </div>
                    
                    <div class="step-line"></div>
                    
                    <!-- Step 3: Planos -->
                    <div class="step" data-step="3" id="step3">
                        <div class="step-circle">
                            <span class="step-number">3</span>
                            <i class="step-check">‚úì</i>
                        </div>
                        <span class="step-label">Planos</span>
                    </div>
                    
                    <div class="step-line"></div>
                    
                    <!-- Step 4: Resultados -->
                    <div class="step" data-step="4" id="step4">
                        <div class="step-circle">
                            <span class="step-number">4</span>
                            <i class="step-check">‚úì</i>
                        </div>
                        <span class="step-label">Resultados</span>
                    </div>
                    
                </div>
            </div>

            <!-- ============================================================================
                 ABA 1: DADOS DO CLIENTE + TIPO
                 ============================================================================ -->
            <div id="tab0" class="oeste-tab-content active">
                <div class="oeste-card">
                    <h2 class="oeste-card-title">
                        <i class="fas fa-user-circle"></i>
                        Dados do Cliente
                    </h2>

                    <!-- Nome -->
                    <div class="mb-4">
                        <label class="block text-xs font-semibold oeste-text-primary mb-2">
                            Nome do Cliente: <span class="text-red-500">*</span>
                        </label>
                        <input 
                            type="text" 
                            id="clienteNome" 
                            placeholder="Ex: Jo√£o Silva"
                            class="w-full px-3 py-3 text-sm border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-oeste-turqueza focus:border-transparent"
                            required
                        >
                    </div>

                    <!-- Telefone com DDD 18 pr√©-preenchido -->
                    <div class="mb-4">
                        <label class="block text-xs font-semibold oeste-text-primary mb-2">
                            Telefone: <span class="text-red-500">*</span>
                        </label>
                        <input 
                            type="tel" 
                            id="clienteTelefone" 
                            placeholder="(18) 99999-9999"
                            class="w-full px-3 py-3 text-sm border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-oeste-turqueza focus:border-transparent"
                            required
                        >
                        <small class="text-xs text-gray-500 mt-1 block">
                            <i class="fas fa-info-circle"></i> DDD 18 pr√©-preenchido. Pode alterar se necess√°rio.
                        </small>
                    </div>

                    <!-- Email (OPCIONAL) -->
                    <div class="mb-6">
                        <label class="block text-xs font-semibold oeste-text-primary mb-2">
                            Email: <span class="text-gray-400 text-xs">(opcional)</span>
                        </label>
                        <input 
                            type="email" 
                            id="clienteEmail" 
                            placeholder="Ex: joao@email.com"
                            class="w-full px-3 py-3 text-sm border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-oeste-turqueza focus:border-transparent"
                        >
                    </div>

                    <!-- Tipo de Plano -->
                    <div class="mb-6">
                        <label class="block text-xs font-semibold oeste-text-primary mb-3">
                            Tipo de Plano: <span class="text-red-500">*</span>
                        </label>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
                            <label class="tipo-card">
                                <input type="radio" name="clienteTipo" value="Empresarial 2-29" class="tipo-radio">
                                <div class="tipo-content">
                                    <i class="fas fa-building"></i>
                                    <span>Empresarial<br>2-29 vidas</span>
                                </div>
                            </label>
                            
                            <label class="tipo-card">
                                <input type="radio" name="clienteTipo" value="Empresarial 30+" class="tipo-radio">
                                <div class="tipo-content">
                                    <i class="fas fa-building"></i>
                                    <span>Empresarial<br>30+ vidas</span>
                                </div>
                            </label>
                            
                            <label class="tipo-card">
                                <input type="radio" name="clienteTipo" value="Coletivo por Ades√£o" class="tipo-radio">
                                <div class="tipo-content">
                                    <i class="fas fa-users"></i>
                                    <span>Coletivo por<br>Ades√£o</span>
                                </div>
                            </label>
                        </div>
                    </div>

                    <!-- Bot√£o avan√ßar -->
                    <div class="flex gap-3">
                        <button 
                            id="btnAvancarCliente"
                            onclick="avancarAba1()" 
                            class="flex-1 oeste-btn-primary py-3 text-base disabled:opacity-50 disabled:cursor-not-allowed"
                            disabled
                        >
                            Pr√≥ximo: Faixas Et√°rias
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- ============================================================================
                 ABA 2: FAIXAS ET√ÅRIAS (F1 - F10)
                 ============================================================================ -->
            <div id="tab1" class="oeste-tab-content">
                <div class="oeste-card">
                    <h2 class="oeste-card-title">
                        <i class="fas fa-users"></i>
                        Faixas Et√°rias
                    </h2>

                    <p class="text-sm oeste-text-muted font-semibold mb-4">
                        <i class="fas fa-info-circle"></i> Selecione as faixas et√°rias e quantidades
                    </p>

                    <div class="faixa-inline-container" id="faixasContainer">
                        <!-- Gerado dinamicamente pelo JS -->
                    </div>

                    <div class="flex gap-3 mt-6">
                        <button onclick="voltarAba()" class="flex-1 oeste-btn-secondary py-3 text-base">
                            <i class="fas fa-arrow-left"></i> Voltar
                        </button>
                        <button onclick="avancarAba2()" class="flex-1 oeste-btn-primary py-3 text-base">
                            Pr√≥ximo: Planos
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- ============================================================================
                 ABA 3: PLANOS (Premium I, II, III, IV)
                 ============================================================================ -->
            <div id="tab2" class="oeste-tab-content">
                <div class="oeste-card">
                    <h2 class="oeste-card-title">
                        <i class="fas fa-chart-bar"></i>
                        Sele√ß√£o de Planos
                    </h2>

                    <p class="text-sm oeste-text-muted mb-3 font-semibold">
                        <i class="fas fa-check-circle"></i> Selecione de 1 a 4 planos para comparar:
                    </p>

                    <div class="planos-grid-compact mb-4" id="planosCheckboxesContainer">
                        <!-- Checkboxes de planos ser√£o carregados aqui dinamicamente -->
                    </div>

                    <div class="bg-blue-50 border-2 border-blue-200 rounded-lg p-3 mb-4">
                        <p class="text-sm text-blue-800 font-semibold">
                            <i class="fas fa-info-circle"></i> Planos selecionados: <span id="planosCount" class="font-bold">0</span> de 4
                        </p>
                    </div>

                    <div class="flex gap-3">
                        <button onclick="voltarAba()" class="flex-1 oeste-btn-secondary py-3 text-base">
                            <i class="fas fa-arrow-left"></i> Voltar
                        </button>
                        <button onclick="gerarComparacao()" class="flex-1 oeste-btn-primary py-3 text-base">
                            Gerar Compara√ß√£o
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- ============================================================================
                 ABA 4: RESULTADO
                 ============================================================================ -->
            <div id="tab3" class="oeste-tab-content">
                <div id="previewCard" class="oeste-card">
                    <!-- Logo para impress√£o -->
                    <div class="text-center mb-5 print-only">
                        <img src="https://i.imgur.com/l4tIG6t.png" alt="Oeste Sa√∫de" class="oeste-logo mx-auto mb-3">
                        <h1 class="text-2xl font-bold oeste-text-primary mb-2">Compara√ß√£o de Planos</h1>
                        <p class="text-sm oeste-text-muted">Oeste Sa√∫de Assis</p>
                    </div>

                    <!-- Dados do Vendedor -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-5">
                        <div class="bg-blue-50 border border-blue-200 rounded-lg p-3">
                            <p class="text-xs font-semibold text-blue-600 mb-1">
                                <i class="fas fa-user"></i> Vendedor(a)
                            </p>
                            <p class="text-sm font-bold oeste-text-primary" id="previewVendedor">-</p>
                        </div>
                        <div class="bg-blue-50 border border-blue-200 rounded-lg p-3">
                            <p class="text-xs font-semibold text-blue-600 mb-1">
                                <i class="fas fa-phone"></i> Telefone
                            </p>
                            <p class="text-sm font-bold oeste-text-primary" id="previewTelefone">-</p>
                        </div>
                        <div class="bg-blue-50 border border-blue-200 rounded-lg p-3">
                            <p class="text-xs font-semibold text-blue-600 mb-1">
                                <i class="fas fa-envelope"></i> E-mail
                            </p>
                            <p class="text-sm font-bold oeste-text-primary" id="previewEmail">-</p>
                        </div>
                    </div>

                    <!-- Dados da Cota√ß√£o -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-5">
                        <div class="bg-gray-50 border border-gray-200 rounded-lg p-3">
                            <p class="text-xs font-semibold text-gray-600 mb-1">
                                <i class="fas fa-tag"></i> Tipo
                            </p>
                            <p class="text-sm font-bold oeste-text-primary" id="previewTipo">-</p>
                        </div>
                        <div class="bg-gray-50 border border-gray-200 rounded-lg p-3">
                            <p class="text-xs font-semibold text-gray-600 mb-1">
                                <i class="fas fa-user"></i> Cliente
                            </p>
                            <p class="text-sm font-bold oeste-text-primary" id="previewCliente">-</p>
                        </div>
                    </div>

                    <div class="mb-4">
                        <p class="text-xs text-gray-500 text-center">
                            <i class="fas fa-clock"></i> Gerado em: <span id="dataComparacao">-</span>
                        </p>
                    </div>

                    <!-- Tabela comparativa -->
                    <div id="tabelaComparativa" class="mb-5">
                        <!-- Tabela gerada dinamicamente -->
                    </div>

                    <!-- Bot√µes de a√ß√£o -->
                    <div class="no-print flex gap-3">
                        <button onclick="novaComparacao()" class="flex-1 oeste-btn-secondary py-3 text-base">
                            <i class="fas fa-plus-circle"></i> Nova Cota√ß√£o
                        </button>
                        <button onclick="voltarAba()" class="flex-1 oeste-btn-secondary py-3 text-base">
                            <i class="fas fa-arrow-left"></i> Voltar
                        </button>
                        <button onclick="copiarParaWhatsApp()" class="flex-1 bg-green-500 hover:bg-green-600 text-white py-3 rounded-lg font-semibold text-base transition-all shadow-md flex items-center justify-center gap-2">
                            <i class="fab fa-whatsapp"></i> WhatsApp
                        </button>
                        <button onclick="imprimirPDF()" class="flex-1 oeste-btn-primary py-3 text-base">
                            <i class="fas fa-print"></i> Imprimir
                        </button>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <!-- ============================================================================
     SCRIPTS
     ============================================================================ -->

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-database-compat.js"></script>

<script>
    console.log('%c‚úÖ [DEBUG] Firebase SDK carregado', 'color: #10b981; font-weight: bold;');
</script>

<!-- ============================================================================
     LOADING SERVICE
     ============================================================================ -->
<script>
    console.log('%c‚öôÔ∏è [DEBUG] Criando LOADING_SERVICE...', 'color: #8b5cf6; font-weight: bold;');
    
    window.LOADING_SERVICE = {
        show: (msg = 'Carregando...', type = 'default') => {
            console.log(`%c‚è≥ [LOADING] ${msg}`, 'color: #3b82f6; font-weight: bold;');
            const overlay = document.getElementById('loadingOverlay');
            if (overlay) {
                const text = overlay.querySelector('.loading-text');
                if (text) text.textContent = msg;
                overlay.classList.remove('hidden');
            }
        },
        
        hide: () => {
            console.log('%c‚úÖ [LOADING] Escondendo loading', 'color: #10b981;');
            const overlay = document.getElementById('loadingOverlay');
            if (overlay) {
                overlay.classList.add('hidden');
            }
        },
        
        success: (msg) => {
            console.log(`%c‚úÖ [SUCCESS] ${msg}`, 'color: #10b981; font-weight: bold;');
            LOADING_SERVICE.hide();
        },
        
        error: (msg) => {
            console.error(`%c‚ùå [ERROR] ${msg}`, 'color: #ef4444; font-weight: bold;');
            LOADING_SERVICE.hide();
            alert(msg);
        }
    };
    
    console.log('%c‚úÖ [DEBUG] LOADING_SERVICE criado', 'color: #10b981; font-weight: bold;');
</script>

<!-- ============================================================================
     FUN√á√ïES DE ONBOARDING
     ============================================================================ -->
<script>
    window.fecharOnboarding = () => {
        console.log('%cüö™ [ONBOARDING] Fechando modal...', 'color: #8b5cf6;');
        const modal = document.getElementById('onboardingModal');
        if (modal) {
            modal.classList.remove('active');
            modal.style.display = 'none';
        }
        
        const checkbox = document.getElementById('naoMostrarNovamente');
        if (checkbox && checkbox.checked) {
            localStorage.setItem('onboardingVisto', 'true');
            console.log('%c‚úÖ [ONBOARDING] Prefer√™ncia salva', 'color: #10b981;');
        }
    };
    
    window.iniciarCotador = () => {
        console.log('%cüöÄ [ONBOARDING] Iniciando cotador...', 'color: #8b5cf6;');
        fecharOnboarding();
    };
    
    console.log('%c‚úÖ [DEBUG] Fun√ß√µes de onboarding criadas', 'color: #10b981; font-weight: bold;');
</script>

<!-- ============================================================================
     SCRIPTS DO SISTEMA (ORDEM IMPORTANTE!)
     ============================================================================ -->
<script src="../js/firebase-config.js"></script>
<script src="../js/vendedor-service.js"></script>
<script src="../js/utils.js"></script>
<script src="../js/comparision.js"></script>
<script src="../js/auth.js"></script>
<script src="../js/cotador.js"></script>

<script>
    console.log('%c‚úÖ [DEBUG] Scripts principais carregados', 'color: #10b981; font-weight: bold;');
</script>

</body>
</html>

</body>


</html>
